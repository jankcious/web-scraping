(function(b){var a=function(){var C={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},j=function(){var c=/iPhone|iPad|iPod/i.test(navigator.userAgent);return c&&b(window).load(function(){b("body").children().on("click",b.noop)}),c}(),k=function(){var c=document.documentElement.style;return"behavior" in c&&"fill" in c&&/iemobile/i.test(navigator.userAgent)}(),B=function(c,d){var f=C.menuClass;d.cssArrows&&(f+=" "+C.menuArrowClass),c.toggleClass(f)},q=function(c,d){return c.find("li."+d.pathClass).slice(0,d.pathLevels).addClass(d.hoverClass+" "+C.bcClass).filter(function(){return b(this).children(d.popUpSelector).hide().show().length}).removeClass(d.pathClass)},e=function(c){c.children("a").toggleClass(C.anchorClass)},z=function(d){var c=d.css("ms-touch-action");c="pan-y"===c?"auto":"pan-y",d.css("ms-touch-action",c)},m=function(f,d){var c="li:has("+d.popUpSelector+")";b.fn.hoverIntent&&!d.disableHI?f.hoverIntent(A,g,c):f.on("mouseenter.superfish",c,A).on("mouseleave.superfish",c,g);var h="MSPointerDown.superfish";j||(h+=" touchend.superfish"),k&&(h+=" mousedown.superfish"),f.on("focusin.superfish","li",A).on("focusout.superfish","li",g).on(h,"a",d,v)},v=function(c){var d=b(this),f=d.siblings(c.data.popUpSelector);f.length>0&&f.is(":hidden")&&(d.one("click.superfish",!1),"MSPointerDown"===c.type?d.trigger("focus"):b.proxy(A,d.parent("li"))())},A=function(){var c=b(this),d=x(c);clearTimeout(d.sfTimer),c.siblings().superfish("hide").end().superfish("show")},g=function(){var c=b(this),d=x(c);j?b.proxy(w,c,d)():(clearTimeout(d.sfTimer),d.sfTimer=setTimeout(b.proxy(w,c,d),d.delay))},w=function(c){c.retainPath=b.inArray(this[0],c.$path)>-1,this.superfish("hide"),this.parents("."+c.hoverClass).length||(c.onIdle.call(y(this)),c.$path.length&&b.proxy(A,c.$path)())},y=function(c){return c.closest("."+C.menuClass)},x=function(c){return y(c).data("sf-options")};return{hide:function(f){if(this.length){var l=this,p=x(l);if(!p){return this}var d=p.retainPath===!0?p.$path:"",c=l.find("li."+p.hoverClass).add(this).not(d).removeClass(p.hoverClass).children(p.popUpSelector),h=p.speedOut;f&&(c.show(),h=0),p.retainPath=!1,p.onBeforeHide.call(c),c.stop(!0,!0).animate(p.animationOut,h,function(){var i=b(this);p.onHide.call(i)})}return this},show:function(){var d=x(this);if(!d){return this}var c=this.addClass(d.hoverClass),f=c.children(d.popUpSelector);return d.onBeforeShow.call(f),f.stop(!0,!0).animate(d.animation,d.speed,function(){d.onShow.call(f)}),this},destroy:function(){return this.each(function(){var d,f=b(this),c=f.data("sf-options");return c?(d=f.find(c.popUpSelector).parent("li"),clearTimeout(c.sfTimer),B(f,c),e(d),z(f),f.off(".superfish").off(".hoverIntent"),d.children(c.popUpSelector).attr("style",function(i,h){return h.replace(/display[^;]+;?/g,"")}),c.$path.removeClass(c.hoverClass+" "+C.bcClass).addClass(c.pathClass),f.find("."+c.hoverClass).removeClass(c.hoverClass),c.onDestroy.call(f),f.removeData("sf-options"),void 0):!1})},init:function(c){return this.each(function(){var i=b(this);if(i.data("sf-options")){return !1}var f=b.extend({},b.fn.superfish.defaults,c),d=i.find(f.popUpSelector).parent("li");f.$path=q(i,f),i.data("sf-options",f),B(i,f),e(d),z(i),m(i,f),d.not("."+C.bcClass).superfish("hide",!0),f.onInit.call(this)})}}}();b.fn.superfish=function(c){return a[c]?a[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?b.error("Method "+c+" does not exist on jQuery.fn.superfish"):a.init.apply(this,arguments)},b.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:b.noop,onBeforeShow:b.noop,onShow:b.noop,onBeforeHide:b.noop,onHide:b.noop,onIdle:b.noop,onDestroy:b.noop},b.fn.extend({hideSuperfishUl:a.hide,showSuperfishUl:a.show})})(jQuery);